<div class="settings-page-wrapper">
    <div class="settings-header mb-5">
        <h1 class="h2 fw-bold mb-4">Settings</h1>
        
        <div class="d-flex align-items-center gap-3">
            <div class="profile-avatar-placeholder rounded-circle bg-body-secondary d-flex align-items-center justify-content-center position-relative overflow-hidden" style="width: 64px; height: 64px; font-size: 1.5rem; color: var(--text-color-secondary);">
                <% if (user.profilePictureUrl) { %>
                    <img src="<%= user.profilePictureUrl %>" alt="Profile" style="width: 100%; height: 100%; object-fit: cover;">
                <% } else if (user.firstName) { %>
                    <%= user.firstName.charAt(0).toUpperCase() %>
                <% } else { %>
                    <i class="bi bi-person-fill"></i>
                <% } %>
            </div>
            <div>
                <h5 class="fw-bold mb-0"><%= user.firstName %> <%= user.lastName %></h5>
                <p class="text-body-secondary small mb-0"><%= user.email %></p>
                <% if (user.role === 'admin') { %>
                    <span class="badge bg-dark mt-1">Administrator</span>
                <% } %>
            </div>
        </div>
    </div>

    <% if (typeof message !== 'undefined' && message) { %>
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <%= message %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    <% } %>
    <% if (typeof error !== 'undefined' && error) { %>
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <%= error %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    <% } %>

    <% if (user.role === 'admin') { %>
    <div class="settings-menu-group mb-4">
        <h6 class="text-uppercase text-body-secondary small fw-bold mb-3 ps-1">Admin Controls</h6>
        <div class="list-group settings-list-group rounded-4 overflow-hidden border-0 shadow-sm">
            <a href="/account/admin/dashboard" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-grid-1x2-fill fs-5 text-primary"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Dashboard</div>
                    <small class="text-body-secondary">Overview & Analytics</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/account/admin/orders" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-list-check fs-5 text-primary"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Orders</div>
                    <small class="text-body-secondary">Manage Shipments</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/account/admin/vouchers" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-ticket-detailed-fill fs-5 text-primary"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Vouchers</div>
                    <small class="text-body-secondary">Manage Coupons</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/account/admin/inbox" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-envelope-fill fs-5 text-primary"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Inbox</div>
                    <small class="text-body-secondary">Support Tickets</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/products/manage" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-box-seam-fill fs-5 text-primary"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Products</div>
                    <small class="text-body-secondary">Inventory & Imports</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/account/admin/sales" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-tag-fill fs-5 text-primary"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Sales</div>
                    <small class="text-body-secondary">Promotions & Discounts</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/account/admin/users" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-people-fill fs-5 text-primary"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Users</div>
                    <small class="text-body-secondary">Customer Database</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
        </div>
    </div>
    <% } %>

    <div class="settings-menu-group mb-4">
        <h6 class="text-uppercase text-body-secondary small fw-bold mb-3 ps-1">Account</h6>
        <div class="list-group settings-list-group rounded-4 overflow-hidden border-0 shadow-sm">
            <a href="/account/identity" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-person fs-5"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Identity</div>
                    <small class="text-body-secondary">Name, Bio, Avatar</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/account/security" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-shield-check fs-5"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Security</div>
                    <small class="text-body-secondary">Password, 2FA</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/account/addresses" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-geo-alt fs-5"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Addresses</div>
                    <small class="text-body-secondary">Shipping & Billing</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
        </div>
    </div>

    <div class="settings-menu-group mb-5">
        <h6 class="text-uppercase text-body-secondary small fw-bold mb-3 ps-1">Shopping</h6>
        <div class="list-group settings-list-group rounded-4 overflow-hidden border-0 shadow-sm">
            <a href="/account/orders" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-box-seam fs-5"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Order History</div>
                    <small class="text-body-secondary">Track, Return, Buy Again</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/account/vouchers" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0 border-bottom">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-ticket-perforated fs-5"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">My Vouchers</div>
                    <small class="text-body-secondary">Discounts & Coupons</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
            <a href="/account/wishlist" class="list-group-item list-group-item-action d-flex align-items-center p-3 border-0">
                <div class="setting-icon-wrapper me-3 text-center" style="width: 24px;">
                    <i class="bi bi-heart fs-5"></i>
                </div>
                <div class="flex-grow-1">
                    <div class="fw-semibold">Wishlist</div>
                    <small class="text-body-secondary">Your favorite drops</small>
                </div>
                <i class="bi bi-chevron-right text-body-tertiary"></i>
            </a>
        </div>
    </div>

    <div class="text-center">
        <a href="/users/logout" class="btn btn-light text-danger fw-semibold w-100 py-3 rounded-4">
            Log Out
        </a>
        <p class="text-body-secondary small mt-3">SneaksLab v2.0.4</p>
    </div>
</div>

<style>
    .settings-page-wrapper {
        max-width: 600px;
        margin: 0 auto;
        padding: 1rem;
    }
    .settings-list-group .list-group-item {
        background-color: #fff;
        transition: background-color 0.2s ease;
    }
    .settings-list-group .list-group-item:hover {
        background-color: #f8f9fa;
    }
    .settings-list-group .list-group-item:last-child {
        border-bottom: none !important;
    }
</style>